webpackJsonp([6],{"7KhL":function(e,t){},"B/6R":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("vaA5"),s={data:function(){return{tableData:[],dialogTableVisible:!1,gridDesc:[{desc:"",prob:""}],gridData:[{name:"",time:"",age:"",sex:"",thxhdb:"",gaxztm:"",rstqm:"",dmdzdb:"",qbdb:"",ns1:"",ns2:"",zdgc:"",zdzs:"",zdhs:"",zdb:"",qdb:"",gysz:"",bqb:"",bdb:"",zjdhs:"",jxlsm:"",jg:"",jsjm:"",djzm:"",zdba:"",ptt:"",zzdba1:"",zzdbb:"",jjdhs:"",gmdzdb:""}],metrics:[["姓名","name"],["日期","time"],["年龄","age"],["性别","sex"],["糖化血红蛋白","thxhdb"],["γ-谷氨酰转肽酶","gaxztm"],["乳酸脱氢酶","rstqm"],["低密度脂蛋白","dmdzdb"],["前白蛋白","qbdb"],["尿素","ns1"],["尿酸","ns2"],["总胆固醇","zdgc"],["总胆汁酸","zdzs"],["总胆红素","zdhs"],["总蛋白","zdb"],["球蛋白","qdb"],["甘油三脂","gysz"],["白球比","bqb"],["白蛋白","bdb"],["直接胆红素","zjdhs"],["碱性磷酸酶","jxlsm"],["肌酐","jg"],["肌酸激酶","jsjm"],["胆碱脂酶","djzm"],["脂蛋白(a)","zdba"],["葡萄糖","ptt"],["载脂蛋白A1","zzdba1"],["载脂蛋白B","zzdbb"],["间接胆红素","jjdhs"],["高密度脂蛋白","gmdzdb"]],search:""}},created:function(){this.getBaseList()},methods:{getBaseList:function(){var e=this;Object(r.c)().then(function(t){e.tableData=[];for(var a={},r=t.length-1;r>=0&&r>=t.length-15;r--)a.id=t[r].id,a.time=t[r].time,a.name=t[r].name,a.isDesc=1==t[r].isDesc?"是":"否",a.desc=t[r].desc,a.isExam=1==t[r].isExam?"是":"否",a.prob=(100*t[r].prob).toFixed(2)+"%",a.level=t[r].prob>.3?t[r].prob>.6?"高":"中":"低",e.tableData.push(a),a={}})},handleDetail:function(e,t){var a=this;"否"!=t.isExam?Object(r.b)({id:t.id}).then(function(e){for(var r in e[0])a.gridData[0][r]=e[0][r];a.gridDesc[0].desc=t.desc,a.gridDesc[0].prob=t.prob,a.dialogTableVisible=!0}):this.$alert("该患者没有输入体检数据。","体检数据",{})},handleDelete:function(e,t){var a=this;Object(r.a)({id:t.id,isExam:t.isExam}).then(function(t){200==t.code?(a.$alert(t.msg,"操作结果",{}),a.tableData.splice(e,1),a.getBaseList()):a.$alert(t.msg,"操作结果",{})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"history-wrap"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}),stripe:"","highlight-current-row":"",border:"","default-sort":{prop:"time",order:"descending"}}},[e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"time",label:"记录时间",width:"200",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"200",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"isDesc",label:"是否输入症状描述",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.desc))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{type:"是"===t.row.isDesc?"primary":"danger","disable-transitions":""}},[e._v(e._s(t.row.isDesc))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isExam",label:"是否输入体检数据",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"是"===t.row.isExam?"primary":"danger","disable-transitions":""}},[e._v(e._s(t.row.isExam))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"level",label:"患糖尿病风险等级",width:"200",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(e._s(t.row.prob))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{type:"高"===t.row.level?"danger":"中"===t.row.level?"primary":"success","disable-transitions":""}},[e._v(e._s(t.row.level))])],1)])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"输入姓名搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleDetail(t.$index,t.row)}}},[e._v("体检数据")]),e._v(" "),a("el-dialog",{attrs:{title:"体检数据",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.gridDesc}},[a("el-table-column",{attrs:{prop:"desc",label:"症状描述",width:"450"}}),e._v(" "),a("el-table-column",{attrs:{prop:"prob",label:"患病风险",width:"150"}})],1),e._v(" "),a("el-table",{attrs:{data:e.gridData}},e._l(e.metrics,function(e,t){return a("el-table-column",{attrs:{property:e[1],label:e[0],width:"150"}})}),1)],1),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除记录")])]}}])})],1)],1)},staticRenderFns:[]};var i=a("VU/8")(s,l,!1,function(e){a("7KhL")},null,null);t.default=i.exports}});
//# sourceMappingURL=6.16d1cb4a10f9d214f642.js.map